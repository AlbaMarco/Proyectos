Base de datos: appfinal
Nombre de usuario: albaroot
Correo electrÃ³nico: almarche20021@gmail.com

// > many-to-one; < one-to-many; - one-to-one; <> many-to-many

Table USERS as US {
  ID_USER int [pk, increment]
  USER varchar [not null]
  PASS varchar [not null]
  ULT_VISITA DATE
  LEVELU int [ref: > N.NIVEL]
  LEVELA int [ref: > A.NIVEL]
  Indexes {
    (LEVELU, LEVELA)
  }
}

Table NIVELUSERS as N {
  NIVEL int [pk]
  NOMBRE varchar [not null]
}

Table NIVELADMIN as A {
  NIVEL int [pk]
  NOMBRE varchar [not null]
}

Table LOGADMIN as LOGA {
  ID int [pk, increment]
  ID_ADMIN int [not null, ref: > US.ID_USER]
  NIVEL int [not null, ref: > A.NIVEL] 
  ACCIONES varchar [not null]
  FECHA_ACCIONES DATE [not null]
}

Table FAVORITOS_USERS {
  ID int [pk, increment]
  ID_USER int [not null, ref: > US.ID_USER]
  NAME_FAV varchar [not null]
  IMG_FAV blob [null]
  CAT_FAV varchar [not null]
}

Table EQUIPOSPKM as team {
  ID_USER int [pk, ref: > US.ID_USER]
  ID_EQUIPO int [not null, pk, increment]
  POKEMONS json [NULL] // json con todos los pkms
  ENFRENTAMIENTOS_JUGADOS int [null]
  ENFRENTAMIENTOS_GANADOS int [null]
  ENFRENTAMIENTOS_PERDIDOS int [null]
}

Table ENFRENTAMIENTOS {
  ID_ENFRENTAMIENTO int [pk, increment]
  ID_TEAM int [pk, ref: > EQUIPOSPKM.ID_EQUIPO]
  PKM_DERROTADOS int [not null]
  PKM_ABATIDOS int [not null]
}

Table EQUIPOS_ALEATORIOS {
	ID_EQUIPO_ALEATORIO int [pk]
  ID_ADMIN int [ref: > US.ID_USER]
	POKEMONS json [NOT NULL] // json con todos los pkms
  ENFRENTAMIENTOS_JUGADOS int [null]
	ENFRENTAMIENTOS_GANADOS int [null]
	ENFRENTAMIENTOS_PERDIDOS int [null]
}

Table PKM_BANEADO as PKMBAN{
  ID_PKM int [pk]
  NAMEPKM varchar [unique]
}

Table SOPORTETECNICO {
  ID_USUARIO int [pk, ref: > US.ID_USER]
  ID_TICKET int [pk, increment]
  TXT_TICKET varchar [not null]
  ESTADO varchar [not null]
  FECHA_ENTRADA date
}

TABLE EQUIPOSPKM_BANEADOS {
  ID INT [pk, increment]
  ID_EQUIPOSPKM INT [pk, ref: > team.ID_EQUIPO]
  ID_PKM_BANEADO INT [ref: > PKMBAN.ID_PKM]
}